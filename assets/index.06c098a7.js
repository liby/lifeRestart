var t,e,n,i,s,r,a,o,d,c,l,h,u,g,m,f,p=Object.defineProperty,T=(t,e,n)=>(((t,e,n)=>{e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),E=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},S=(t,e,n)=>(E(t,e,"read from private field"),n?n.call(t):e.get(t)),v=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},b=(t,e,n,i)=>(E(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const j=t=>{switch(typeof t){case"object":if(Array.isArray(t))return t.map((t=>j(t)));const e={};for(const n in t)e[n]=j(t[n]);return e;default:return t}},y=(...t)=>Math.max(...t.flat()),P={CHR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],MNY:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],SPR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不幸",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"幸福",grade:1},{min:9,judge:"极乐",grade:2},{min:11,judge:"天命",grade:3}],INT:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"识海",grade:3},{min:131,judge:"元神",grade:3},{min:501,judge:"仙魂",grade:3}],STR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"凝气",grade:3},{min:101,judge:"筑基",grade:3},{min:401,judge:"金丹",grade:3},{min:1001,judge:"元婴",grade:3},{min:2001,judge:"仙体",grade:3}],AGE:[{judge:"胎死腹中",grade:0},{min:1,judge:"早夭",grade:0},{min:10,judge:"少年",grade:0},{min:18,judge:"盛年",grade:0},{min:40,judge:"中年",grade:0},{min:60,judge:"花甲",grade:1},{min:70,judge:"古稀",grade:1},{min:80,judge:"杖朝",grade:2},{min:90,judge:"南山",grade:2},{min:95,judge:"不老",grade:3},{min:100,judge:"修仙",grade:3},{min:500,judge:"仙寿",grade:3}],SUM:[{judge:"地狱",grade:0},{min:41,judge:"折磨",grade:0},{min:50,judge:"不佳",grade:0},{min:60,judge:"普通",grade:0},{min:80,judge:"优秀",grade:1},{min:100,judge:"罕见",grade:2},{min:110,judge:"逆天",grade:3},{min:120,judge:"传说",grade:3}]},Y=(t,e)=>{let n=P[t].length;for(;n--;){const{min:i,judge:s,grade:r}=P[t][n];if(null==i||e>=i)return{judge:s,grade:r}}};class w{constructor(){T(this,"TYPES",{AGE:"AGE",CHR:"CHR",INT:"INT",STR:"STR",MNY:"MNY",SPR:"SPR",LIF:"LIF",TLT:"TLT",EVT:"EVT"}),v(this,t,void 0),v(this,e,void 0),v(this,n,void 0)}initial({age:e}){b(this,t,e);for(const t in e){let{event:n,talent:i}=e[t];Array.isArray(n)||(n=(null==n?void 0:n.split(","))||[]),n=n.map((t=>{const e=`${t}`.split("*").map((t=>Number(t)));return 1==e.length&&e.push(1),e})),Array.isArray(i)||(i=(null==i?void 0:i.split(","))||[]),i=i.map((t=>Number(t))),e[t]={event:n,talent:i}}}restart(t){b(this,e,{[this.TYPES.AGE]:-1,[this.TYPES.CHR]:0,[this.TYPES.INT]:0,[this.TYPES.STR]:0,[this.TYPES.MNY]:0,[this.TYPES.SPR]:0,[this.TYPES.LIF]:1,[this.TYPES.TLT]:[],[this.TYPES.EVT]:[]});for(const e in t)this.change(e,t[e]);b(this,n,[])}get(t){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return j(S(this,e)[t]);default:return 0}}set(t,n){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:S(this,e)[t]=j(n);break;default:return 0}}record(){S(this,n).push({[this.TYPES.AGE]:this.get(this.TYPES.AGE),[this.TYPES.CHR]:this.get(this.TYPES.CHR),[this.TYPES.INT]:this.get(this.TYPES.INT),[this.TYPES.STR]:this.get(this.TYPES.STR),[this.TYPES.MNY]:this.get(this.TYPES.MNY),[this.TYPES.SPR]:this.get(this.TYPES.SPR)})}getRecord(){return j(S(this,n))}change(t,n){if(Array.isArray(n))for(const e of n)this.change(t,Number(e));else switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:S(this,e)[t]+=Number(n);break;case this.TYPES.TLT:case this.TYPES.EVT:const i=S(this,e)[t];if(n<0){const t=i.indexOf(n);-1!=t&&i.splice(t,1)}i.includes(n)||i.push(n);break;default:return}}effect(t){for(const e in t)this.change(e,Number(t[e]))}isEnd(){return this.get(this.TYPES.LIF)<1}ageNext(){this.change(this.TYPES.AGE,1);const t=this.get(this.TYPES.AGE),{event:e,talent:n}=this.getAgeData(t);return{age:t,event:e,talent:n}}getAgeData(e){return j(S(this,t)[e])}}t=new WeakMap,e=new WeakMap,n=new WeakMap;const R=(t,e)=>N(t,function(t){const e=[],n=t.length,i=[];i.unshift(e);let s=0;const r=e=>{const n=t.substring(s,e).trim();s=e,n&&i[0].push(n)};for(let a=0;a<n;a++)switch(t[a]){case" ":continue;case"(":r(a),s++;const t=[];i[0].push(t),i.unshift(t);break;case")":r(a),s++,i.shift();break;case"|":case"&":r(a),r(a+1);break;default:continue}return r(n),e}(e));function N(t,e){if(!Array.isArray(e))return function(t,e){const n=e.length;let i=e.search(/[><\!\?=]/);const s=e.substring(0,i),r=e.substring(i,i+="="==e[i+1]?2:1),a=e.substring(i,n),o=t.get(s),d="["==a[0]?JSON.parse(a):Number(a);switch(r){case">":return o>d;case"<":return o<d;case">=":return o>=d;case"<=":return o<=d;case"=":return Array.isArray(o)?o.includes(d):o==d;case"!=":return Array.isArray(o)?!o.includes(d):o==d;case"?":if(Array.isArray(o)){for(const t of o)if(d.includes(t))return!0;return!1}return d.includes(o);case"!":if(Array.isArray(o)){for(const t of o)if(d.includes(t))return!1;return!0}return!d.includes(o);default:return!1}}(t,e);if(0==e.length)return!0;if(1==e.length)return N(t,e[0]);let n=N(t,e[0]);for(let i=1;i<e.length;i+=2)switch(e[i]){case"&":n&&(n=N(t,e[i+1]));break;case"|":if(n)return!0;n=N(t,e[i+1]);break;default:return!1}return n}class k{constructor(){v(this,i,void 0)}initial({events:t}){b(this,i,t);for(const e in t){const n=t[e];n.branch&&(n.branch=n.branch.map((t=>((t=t.split(":"))[1]=Number(t[1]),t))))}}check(t,e){const{include:n,exclude:i,NoRandom:s}=this.get(t);return!s&&((!i||!R(e,i))&&(!n||R(e,n)))}get(t){const e=S(this,i)[t];if(!e)throw new Error(`[ERROR] No Event[${t}]`);return j(e)}information(t){const{event:e}=this.get(t);return{description:e}}do(t,e){const{effect:n,branch:i,event:s,postEvent:r}=this.get(t);if(i)for(const[a,o]of i)if(R(e,a))return{effect:n,next:o,description:s};return{effect:n,postEvent:r,description:s}}}i=new WeakMap;class A{constructor(){v(this,s,void 0)}initial({talents:t}){b(this,s,t);for(const e in t){const n=t[e];n.id=Number(e),n.grade=Number(n.grade)}}check(t,e){const{condition:n}=this.get(t);return R(e,n)}get(t){const e=S(this,s)[t];if(!e)throw new Error(`[ERROR] No Talent[${t}]`);return j(e)}information(t){const{grade:e,name:n,description:i}=this.get(t);return{grade:e,name:n,description:i}}exclusive(t,e){const{exclusive:n}=this.get(e);if(!n)return null;for(const i of t)for(const t of n)if(i==t)return i;return null}talentRandom(t){const e={};for(const n in S(this,s)){const{id:i,grade:r,name:a,description:o}=S(this,s)[n];i!=t?e[r]?e[r].push({grade:r,name:a,description:o,id:i}):e[r]=[{grade:r,name:a,description:o,id:i}]:t={grade:r,name:a,description:o,id:i}}return new Array(10).fill(1).map(((n,i)=>{if(!i&&t)return t;const s=Math.random();let r;for(r=s>=.111?0:s>=.011?1:s>=.001?2:3;0==e[r].length;)r--;const a=e[r].length,o=Math.floor(Math.random()*a)%a;return e[r].splice(o,1)[0]}))}allocationAddition(t){if(Array.isArray(t)){let e=0;for(const n of t)e+=this.allocationAddition(n);return e}return Number(this.get(t).status)||0}do(t,e){const{effect:n,condition:i,grade:s,name:r,description:a}=this.get(t);return i&&!R(e,i)?null:{effect:n,grade:s,name:r,description:a}}}s=new WeakMap;class M{constructor(){v(this,r,void 0),v(this,a,void 0),v(this,o,void 0),v(this,d,void 0),b(this,r,new w),b(this,a,new k),b(this,o,new A)}async initial(){const t=await json("age"),e=await json("talents"),n=await json("events");S(this,r).initial({age:t}),S(this,o).initial({talents:e}),S(this,a).initial({events:n})}restart(t){b(this,d,new Set),S(this,r).restart(t),this.doTalent(),S(this,r).record()}getTalentAllocationAddition(t){return S(this,o).allocationAddition(t)}next(){const{age:t,event:e,talent:n}=S(this,r).ageNext(),i=this.doTalent(n),s=this.doEvent(this.random(e));S(this,r).record();const a=S(this,r).isEnd();return{age:t,content:[i,s].flat(),isEnd:a}}doTalent(t){t&&S(this,r).change(S(this,r).TYPES.TLT,t),t=S(this,r).get(S(this,r).TYPES.TLT).filter((t=>!S(this,d).has(t)));const e=[];for(const n of t){const t=S(this,o).do(n,S(this,r));if(!t)continue;S(this,d).add(n);const{effect:i,name:s,description:a,grade:c}=t;e.push({type:S(this,r).TYPES.TLT,name:s,grade:c,description:a}),i&&S(this,r).effect(i)}return e}doEvent(t){const{effect:e,next:n,description:i,postEvent:s}=S(this,a).do(t,S(this,r));S(this,r).change(S(this,r).TYPES.EVT,t),S(this,r).effect(e);const o={type:S(this,r).TYPES.EVT,description:i,postEvent:s};return n?[o,this.doEvent(n)].flat():[o]}random(t){t=t.filter((([t])=>S(this,a).check(t,S(this,r))));let e=0;for(const[,i]of t)e+=i;let n=Math.random()*e;for(const[i,s]of t)if((n-=s)<0)return i;return t[t.length-1]}talentRandom(){return S(this,o).talentRandom(JSON.parse(localStorage.extendTalent||"null"))}talentExtend(t){localStorage.extendTalent=JSON.stringify(t)}getRecord(){return S(this,r).getRecord()}exclusive(t,e){return S(this,o).exclusive(t,e)}}r=new WeakMap,a=new WeakMap,o=new WeakMap,d=new WeakMap;c=new WeakMap,l=new WeakMap,h=new WeakMap,u=new WeakMap,g=new WeakMap,m=new WeakMap,f=new WeakMap;(new class{constructor(){v(this,c,void 0),v(this,l,void 0),v(this,h,new Set),v(this,u,20),v(this,g,!1),v(this,m,null),v(this,f,void 0),b(this,c,new M)}async initial(){this.initPages(),this.switch("loading"),await S(this,c).initial(),this.switch("index"),window.onerror=(t,e,n,i,s)=>{this.hint(`[ERROR] at (${e}:${n}:${i})\n\n${(null==s?void 0:s.stack)||s||"unknow Error"}`,"error")}}initPages(){const t=$('\n        <div id="main">\n            <div id="title">\n                人生重开模拟器<br>\n                <div style="font-size:1.5rem; font-weight:normal;">加载中...</div>\n            </div>\n        </div>\n        '),e=$('\n        <div id="main">\n            <div id="cnt" class="head">已重开1次</div>\n            <button id="rank">排行榜</button>\n            <div id="title">\n                人生重开模拟器<br>\n                <div style="font-size:1.5rem; font-weight:normal;">这垃圾人生一秒也不想呆了</div>\n            </div>\n            <button id="restart" class="mainbtn"><span class="iconfont">&#xe6a7;</span>立即重开</button>\n        </div>\n        ');e.find("#restart").click((()=>this.switch("talent"))),e.find("#rank").click((()=>this.hint("别卷了！没有排行榜")));const n=$('\n        <div id="main">\n            <div class="head" style="font-size: 1.6rem">天赋抽卡</div>\n            <button id="random" class="mainbtn" style="top: 50%;">10连抽！</button>\n            <ul id="talents" class="selectlist"></ul>\n            <button id="next" class="mainbtn" style="top:auto; bottom:0.1em">请选择3个</button>\n        </div>\n        '),i=({grade:t,name:e,description:n})=>$(`<li class="grade${t}b">${e}（${n}）</li>`);n.find("#random").click((()=>{n.find("#random").hide();const t=n.find("#talents");S(this,c).talentRandom().forEach((e=>{const n=i(e);t.append(n),n.click((()=>{if(n.hasClass("selected"))n.removeClass("selected"),S(this,h).delete(e);else{if(3==S(this,h).size)return void this.hint("只能选3个天赋");const t=S(this,c).exclusive(Array.from(S(this,h)).map((({id:t})=>t)),e.id);if(null!=t){for(const{name:e,id:n}of S(this,h))if(n==t)return void this.hint(`与已选择的天赋【${e}】冲突`);return}n.addClass("selected"),S(this,h).add(e)}}))}))})),n.find("#next").click((()=>{3==S(this,h).size?(b(this,u,20+S(this,c).getTalentAllocationAddition(Array.from(S(this,h)).map((({id:t})=>t)))),this.switch("property")):this.hint("请选择3个天赋")}));const s=$('\n        <div id="main">\n            <div class="head" style="font-size: 1.6rem">\n                调整初始属性<br>\n                <div id="total" style="font-size:1rem; font-weight:normal;">可用属性点：0</div>\n            </div>\n            <ul id="propertyAllocation" class="propinitial"></ul>\n            <button id="random" class="mainbtn" style="top:auto; bottom:7rem">随机分配</button>\n            <button id="start" class="mainbtn" style="top:auto; bottom:0.1rem">开始新人生</button>\n        </div>\n        '),r={},a=()=>{let t=0;for(const e in r)t+=r[e].get();return t},o=()=>{s.find("#total").text("可用属性点："+(S(this,u)-a()))},d=(t,e,n)=>{const i=$(`<li>${t}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>`),s=$('<span class="iconfont propbtn">&#xe6a5;</span>'),r=$('<input value="0">'),d=$('<span class="iconfont propbtn">&#xe6a6;</span>');i.append(s),i.append(r),i.append(d);const c=t=>(t=Number(t)||0,(t=Math.round(t))<e?e:t>n?n:t),l=()=>Number(r.val()),h=t=>{r.val(c(t)),o()};return d.click((()=>{a()!=S(this,u)?h(l()+1):this.hint("没用可分配的点数了")})),s.click((()=>h(l()-1))),r.on("input",(()=>{const t=a();let e=l();t>S(this,u)&&(e-=t-S(this,u)),e=c(e),e!=r.val()&&h(e),o()})),{group:i,get:l,set:h}};r.CHR=d("颜值",0,10),r.INT=d("智力",0,10),r.STR=d("体质",0,10),r.MNY=d("家境",0,10);const f=s.find("#propertyAllocation");for(const c in r)f.append(r[c].group);s.find("#random").click((()=>{let t=S(this,u);const e=[10,10,10,10];for(;t>0;){const n=Math.round(Math.random()*(Math.min(t,10)-1))+1;for(;;){const i=Math.floor(4*Math.random())%4;if(!(e[i]-n<0)){e[i]-=n,t-=n;break}}}r.CHR.set(10-e[0]),r.INT.set(10-e[1]),r.STR.set(10-e[2]),r.MNY.set(10-e[3])})),s.find("#start").click((()=>{a()==S(this,u)?(S(this,c).restart({CHR:r.CHR.get(),INT:r.INT.get(),STR:r.STR.get(),MNY:r.MNY.get(),SPR:5,TLT:Array.from(S(this,h)).map((({id:t})=>t))}),this.switch("trajectory"),S(this,l).trajectory.born()):this.hint(`你还有${S(this,u)-a()}属性点没有分配完`)}));const p=$('\n        <div id="main">\n            <ul id="lifeTrajectory" class="lifeTrajectory"></ul>\n            <button id="summary" class="mainbtn" style="top:auto; bottom:0.1rem">人生总结</button>\n        </div>\n        ');p.find("#lifeTrajectory").click((()=>{if(S(this,g))return;const t=S(this,c).next(),{age:e,content:n,isEnd:i}=t;$(`<li><span>${e}岁：</span>${n.map((({type:t,description:e,grade:n,name:i,postEvent:s})=>{switch(t){case"TLT":return`天赋【${i}】发动：${e}`;case"EVT":return e+(s?`<br>${s}`:"")}})).join("<br>")}</li>`).appendTo("#lifeTrajectory"),$("#lifeTrajectory").scrollTop($("#lifeTrajectory")[0].scrollHeight),i&&(b(this,g,!0),p.find("#summary").show())})),p.find("#summary").click((()=>{this.switch("summary")}));const T=$('\n        <div id="main">\n            <div class="head">人生总结</div>\n            <ul id="judge" class="judge" style="bottom: calc(35% + 2.5rem)">\n                <li class="grade2"><span>颜值：</span>9级 美若天仙</li>\n                <li><span>智力：</span>4级 智力一般</li>\n                <li><span>体质：</span>1级 极度虚弱</li>\n                <li><span>家境：</span>6级 小康之家</li>\n                <li><span>享年：</span>3岁 早夭</li>\n                <li><span>快乐：</span>3级 不太幸福的人生</li>\n            </ul>\n            <div class="head" style="top:auto; bottom:35%">天赋，你可以选一个，下辈子还能抽到</div>\n            <ul id="talents" class="selectlist" style="top:calc(65% + 0.5rem); bottom:8rem">\n                <li class="grade2b">黑幕（面试一定成功）</li>\n            </ul>\n            <button id="again" class="mainbtn" style="top:auto; bottom:0.1em"><span class="iconfont">&#xe6a7;</span>再次重开</button>\n        </div>\n        ');T.find("#again").click((()=>{this.times++,S(this,c).talentExtend(S(this,m)),b(this,m,null),S(this,h).clear(),b(this,u,20),b(this,g,!1),this.switch("index")})),b(this,l,{loading:{page:t,clear:()=>{}},index:{page:e,btnRank:e.find("#rank"),btnRestart:e.find("#restart"),hint:e.find(".hint"),cnt:e.find("#cnt"),clear:()=>{e.find(".hint").hide();const t=this.times,n=e.find("#rank"),i=e.find("#cnt");if(t>0)return n.show(),i.show(),void i.text(`已重开${t}次`);n.hide(),i.hide()}},talent:{page:n,clear:()=>{n.find("ul.selectlist").empty(),n.find("#random").show(),b(this,u,20)}},property:{page:s,clear:()=>{o()}},trajectory:{page:p,clear:()=>{p.find("#lifeTrajectory").empty(),p.find("#summary").hide(),b(this,g,!1)},born:()=>{p.find("#lifeTrajectory").trigger("click")}},summary:{page:T,clear:()=>{const t=T.find("#judge"),e=T.find("#talents");t.empty(),e.empty(),S(this,h).forEach((t=>{const n=i(t);e.append(n),n.click((()=>{if(n.hasClass("selected"))b(this,m,null),n.removeClass("selected");else{if(null!=S(this,m))return void this.hint("只能继承一个天赋");b(this,m,t.id),n.addClass("selected")}}))}));const n=S(this,c).getRecord(),s=(t,e)=>{const i=e(n.map((({[t]:e})=>e))),{judge:s,grade:r}=Y(t,i);return{judge:s,grade:r,value:i}};console.table(n),console.debug(n),t.append([(()=>{const{judge:t,grade:e,value:n}=s("CHR",y);return`<li class="grade${e}"><span>颜值：</span>${n} ${t}</li>`})(),(()=>{const{judge:t,grade:e,value:n}=s("INT",y);return`<li class="grade${e}"><span>智力：</span>${n} ${t}</li>`})(),(()=>{const{judge:t,grade:e,value:n}=s("STR",y);return`<li class="grade${e}"><span>体质：</span>${n} ${t}</li>`})(),(()=>{const{judge:t,grade:e,value:n}=s("MNY",y);return`<li class="grade${e}"><span>家境：</span>${n} ${t}</li>`})(),(()=>{const{judge:t,grade:e,value:n}=s("SPR",y);return`<li class="grade${e}"><span>快乐：</span>${n} ${t}</li>`})(),(()=>{const{judge:t,grade:e,value:n}=s("AGE",y);return`<li class="grade${e}"><span>享年：</span>${n} ${t}</li>`})(),(()=>{const t=t=>y(n.map((({[t]:e})=>e))),e=Math.floor(2*((...t)=>{let e=0;return t.flat().forEach((t=>e+=t)),e})(t("CHR"),t("INT"),t("STR"),t("MNY"),t("SPR"))+t("AGE")/2),{judge:i,grade:s}=Y("SUM",e);return`<li class="grade${s}"><span>总评：</span>${e} ${i}</li>`})()].join(""))}}})}switch(t){const e=S(this,l)[t];e&&($("#main").detach(),e.clear(),e.page.appendTo("body"))}hint(t,e="info"){S(this,f)&&(clearTimeout(S(this,f)),b(this,f,null)),hideBanners(),requestAnimationFrame((()=>{const n=$(`.banner.${e}`);n.addClass("visible"),n.find(".banner-message").text(t),"error"!=e&&b(this,f,setTimeout(hideBanners,3e3))}))}get times(){return JSON.parse(localStorage.times||"0")||0}set times(t){localStorage.times=JSON.stringify(parseInt(t)||0)}}).initial();
